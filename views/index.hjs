<!DOCTYPE html>
<html>
  <head>
    <title>Tweec.it</title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <link rel='stylesheet' href='/stylesheets/bootstrap.css' />
    <script type="text/javascript" src="/javascripts/ender.js"></script>
    <script type="text/javascript" src="/javascripts/superagent.min.js"></script>
  
  <script>
  //TODO: make last parameter a callback

    /* Users */
    function getUsers(){
      request
        .get('/users')
        .end(function(res){
          if(res.ok){
            console.log(res.body);
            //do something with res.body
            return res.body;
          } else {
            //parse error in res.text
            alert('request failed: ' + res.text);
          }
        });
    }
    function getUser(email){
      request
        .get('/users/'+email)
        .end(function(res){
          if(res.ok){
            console.log(res.body);
            return res.body;
          } else {
            alert('request failed: ' + res.text);
          }
        });
    }
    function createUser(name, email){
      request
        .post('/users/create')
        .send({name: name, email: email})
        .set('Accept', 'application/json')
        .end(function(res){
          if(res.ok){
            //do something with res.body
            console.log(res.body);
            return res.body;
          } else {
            //parse error in res.text
            alert('request failed: ' + res.text);
          }
        });
    }
    function updateUser(email, update){
      request
        .put('/users/'+email+'/update')
        .send(update)
        .set('Accept', 'application/json')
        .end(function(res){
          if(res.ok){
            //do something with res.body
            console.log(res.body);
            return res.body;
          } else { 
            alert("request failed: " + res.text);
          }
        });
    }
    function deleteUser(email){
      request
        .del('/users/'+email+'/destroy')
        .end(function(res){
          if(res.ok){
            //do something with res.body
            console.log(res.body);
            return res.body;
          } else { 
            alert("request failed: " + res.text);
          }
        });
    }

    /* Images */
    function getImages(user_email) {
      request
        .get('/users/'+user_email+'/images')
        .set('Accept', 'application/json')
        .end(function(res){
          if(res.ok){
            //do something with res.body
            console.log(res.body);
            return res.body;
          } else {
            alert("request failed: " + res.text)
          }
        });
    }
    function getImage(user_email, img_id) {
      request
        .get('/users/'+user_email+'/images/'+img_id)
        .set('Accept', 'application/json')
        .end(function(res){
          if(res.ok){
            //do something with res.body
            console.log(res.body);
            return res.body;
          } else {
            alert("request failed: " + res.text)
          }
        });
    }
    function createImage(user_email, img_name, img_path){
      request
        .post('/users/'+user_email+'/images/create')
        .send({name: img_name, path: img_path})
        .set('Accept', 'application/json')
        .end(function(res){
          if(res.ok){
            //do something with res.body
            console.log(res.body);
            return res.body;
          } else {
            //parse error in res.text
            alert('request failed: ' + res.text);
          }
        });
    }
    function updateImage(user_email, img_id, update){
      request
        .put('/users/'+user_email+'/images/'+img_id+'/update')
        .send(update)
        .set('Accept', 'application/json')
        .end(function(res){
          if(res.ok){
            //do something with res.body
            console.log(res.body);
            return res.body;
          } else {
            //parse error in res.text
            alert('request failed:' + res.text);
          }
        });
    }
    function deleteImage(user_email, img_id){
      request
        .del('/users/'+user_email+'/images/'+img_id+'/destroy')
        .end(function(res){
          if(res.ok){
            console.log(res.body);
            return res.body;
          } else {
            alert('request failed: ' + res.text);
          }
        });
    }
    function getAdjustments(user_email, img_id){
      request
        .get('/users/'+user_email+'/images/'+img_id+'/adjustments')
        .set('Accept', 'application/json')
        .end(function(res){
          if(res.ok){
            console.log(res.body);
            return res.body;
          } else {
            alert('request failed: ' + res.text);
          }
        });
    }
    function getAdjustment(user_email, img_id, adjust_id) {
      request
        .get('/users/'+user_email+'/images/'+img_id+'/adjustments/'+adjust_id)
        .set('Accept', 'application/json')
        .end(function(res){
          if(res.ok){
            console.log(res.body);
            return res.body;
          } else {
            alert('request failed: ' + res.text);
          }
        });
    }
    function createAdjustment(user_email, img_id, slug){
      request
        .post('/users/'+user_email+'/images/'+img_id+'/adjustments/create')
        .send({slug: slug})
        .set('Accept', 'application/json')
        .end(function(res){
          if(res.ok){
            //do something with res.body
            console.log(res.body);
            return res.body;
          } else {
            //parse error in res.text
            alert('request failed: ' + res.text);
          }
        });
    }
    function updateAdjustment(user_email, img_id, adjust_id, update){
      request
        .put('/users/'+user_email+'/images/'+img_id+'/adjustments/'+adjust_id+'/update')
        .send(update)
        .set('Accept', 'application/json')
        .end(function(res){
          if(res.ok){
            //do something with res.body
            console.log(res.body);
            return res.body;
          } else {
            //parse error in res.text
            alert('request failed: ' + res.text);
          }
        });
    }
    function deleteAdjustment(user_email, img_id, adjust_id){
      request
        .del('/users/'+user_email+'/images'+img_id+'/adjustments/'+adjust_id+'/destory')
        .end(function(res){
          if(res.ok){
            //do something with res.body
            console.log(res.body);
            return res.body;
          } else {
            //parse error in res.text
            alert('request failed: ' + res.text);
          }
        });
    }
  </script>
  </head>
  <body>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href=""><img src="/images/logo.png" alt="" /></a></li>
              <li><a href="">Login</a></li>
              <li><a href="">Select Tweecs</a></li>
              <li><a href="">Submit Photos</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="span3" id="side-menu">
          <ul class="nav nav-list well">
            <li class="hav-header">Our Story</a></li>
            <li><a href="">Photoretouch Online</a></li>
            <li><a href="">Singularity University</a></li>
            <li class="divider"></li>
            <li class="hav-header">Our Team</a></li>
            <li><a href="">TJ Rak &ndash; Biz Dev</a></li>
            <li><a href="">David Byrd &ndash; Tech</a></li>
            <li><a href="">Lena Shageiva &ndash; Design</a></li>
            <li class="divider"></li>
            <li class="hav-header">Our Technology</a></li>
            <li><a href="">Whitelabel Retouching</a></li>
            <li><a href="">Consumer API</a></li>
          </ul>
        </div>

        <div class="span9">
          <div class="well" id="images">
            <div class="row">
              <div class="span2">
                <a href="" class="thumbnail">
                  <img src="http://byrdhou.se/davidProfilePicture.jpg" />
                </a>
              </div>
              <div class="span2">
                <a href="" class="thumbnail">
                  <img src="http://byrdhou.se/davidProfilePicture.jpg" />
                </a>
              </div>
              <div class="span2">
                <a href="" class="thumbnail">
                  <img src="http://byrdhou.se/davidProfilePicture.jpg" />
                </a>
              </div>
              <div class="span2">
                <a href="" class="thumbnail">
                  <img src="http://byrdhou.se/davidProfilePicture.jpg" />
                </a>
              </div>
            </div>
            <div class="row">
              <div class="span2">
                <a href="" class="thumbnail">
                  <img src="http://byrdhou.se/davidProfilePicture.jpg" />
                </a>
              </div>
              <div class="span2">
                <a href="" class="thumbnail">
                  <img src="http://byrdhou.se/davidProfilePicture.jpg" />
                </a>
              </div>
              <div class="span2">
                <a href="" class="thumbnail">
                  <img src="http://byrdhou.se/davidProfilePicture.jpg" />
                </a>
              </div>
              <div class="span2">
                <a href="" class="thumbnail">
                  <img src="http://byrdhou.se/davidProfilePicture.jpg" />
                </a>
              </div>
            </div>
            <div class="row">
              <div class="span2">
                <a href="" class="thumbnail">
                  <img src="http://byrdhou.se/davidProfilePicture.jpg" />
                </a>
              </div>
              <div class="span2">
                <a href="" class="thumbnail">
                  <img src="http://byrdhou.se/davidProfilePicture.jpg" />
                </a>
              </div>
              <div class="span2">
                <a href="" class="thumbnail">
                  <img src="http://byrdhou.se/davidProfilePicture.jpg" />
                </a>
              </div>
              <div class="span2">
                <a href="" class="thumbnail">
                  <img src="http://byrdhou.se/davidProfilePicture.jpg" />
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </body>
</html>